---
- name: Test PokeAPI module
  hosts: localhost
  tasks:
    - name: Call pokeapi module
      pokeapi:
        pokemon: "{{ pokemon_name }}"
        #pokemon: Groudon
      register: result

#    - name: Print module result
#      debug:
#              msg: "{{ result['pokemon_data'] | json_query('ability[?is_hidden==`false`].name') }}"
    
    - name: Print module result
      debug:
              msg: |
                      Name: {{ result.pokemon_data.name }}\n 
                      Pokedex ID: {{ result.pokemon_data.id }}\n 
                      Types: {% for type in result.pokemon_data.types %} {{ type.type.name }} {% endfor %}\n
                      Height: {{ result.pokemon_data.height }}\n
                      Weight: {{ result.pokemon_data.weight }}\n 
                      Abilities: {% for ability in result.pokemon_data.abilities | json_query('[?is_hidden==`false`].ability.name') %} {{ ability }} {% endfor %}\n
                      Hidden Abilities: {% for ability in result.pokemon_data.abilities | json_query('[?is_hidden==`true`].ability.name') %} {{ ability }} {% endfor %}\n
