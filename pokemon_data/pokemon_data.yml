---
- name: Test PokeAPI module
  hosts: localhost
  tasks:
    - name: Call pokeapi module
      pokeapi:
              pokemon: "{{ pokemon_name }}"
              #pokemon: Snorlax
      register: result

    - name: Print module result
      debug:
              msg:
                      - "Nombre: {{ result.pokemon_data.name }}"
                      - "Pokedex ID: {{ result.pokemon_data.id }}"
                      - "Tipos: {% for type in result.pokemon_data.types %}{{ type.type.name }} {% endfor %}"
                      - "Altura: {{ result.pokemon_data.height }} decimetres"
                      - "Peso: {{ result.pokemon_data.weight }} hectograms"
                      - "Habilidades: {% for ability in result.pokemon_data.abilities | json_query('[?is_hidden==`false`].ability.name') %}{{ ability }} {% endfor %}"
                      - "Habilidades Ocultas: {% for ability in result.pokemon_data.abilities | json_query('[?is_hidden==`true`].ability.name') %}{{ ability }} {% endfor %}"
